<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<title>CFajax - Yahoo Groups RSS feed reader</title>
		
		<style>
			.mytable {
				font-family: Verdana, Arial, Helvetica, sans-serif;
				font-size:12px;
				width: 650px;
				border-collapse: collapse;
				border-spacing: 0;
				margin: 0px; 
			}

			.mytable td 
			{ 
				padding: 10px; 
			}		
			
			.mytable th
			{
				 background-color: gray;
			}
		</style>
		
		<script type='text/javascript' src='/ajax/core/engine.js'></script>
		<script type='text/javascript' src='/ajax/core/util.js'></script>
		<script type='text/javascript' src='/ajax/core/settings.js'></script>
		<script language="javascript">
			var getAuthor = function(object) { return object.AUTHOR }; 
			var getPost = function(object) 
			{ 
				var retData = "<a href='" + object.LINK + "' target='_blank'>" + object.TITLE + "</a><br>" + object.DESCRIPTION + "...";
				return retData;
			}

			var getPubDate = function(object) 
			{ 
				var retData = object.PUBDATE + "<br>" + object.PUBTIME;
				return retData;
			}
		
			function readYahooFeed()
			{
				var url = DWRUtil.getValue("url");
				DWREngine._execute(_cfscriptYahooLocation, null, 'yahooGroupRssFeedReader',url,10, yahooFeedResult);
			}
		
			function yahooFeedResult(data)
			{
				DWRUtil.removeAllRows("rssData");
				DWRUtil.addRows("rssData", data, [ getPubDate, getPost, getAuthor ])
			}

			function init()
			{
				DWRUtil.useLoadingMessage();
				DWREngine._errorHandler =  errorHandler;
				readYahooFeed();
			}
		</script>
	</head>
	<body onLoad="init()">
		<h1>Yahoo Groups RSS feed reader</h1>
		<table>
			<tr>
				<td>RSS Url for Yahoo Group :</td>
				<td>
					<input type="text" name="url" id="url" size="60" maxlength="100" value="http://rss.groups.yahoo.com/group/cfajax/rss">
					<input type="button" name="go" id="go" value="Load!" onClick="readYahooFeed()">
				</td>
			</tr>
		</table>
		<br>
		<table border="1" class="mytable">
			<thead>
				<tr>
					<th width="140">Dated</th>
					<th>Post</th>
					<th>Author</th>
				</tr>
			</thead>
			<tbody id="rssData">
			</tbody>
		</table>
	</body>
</html>





