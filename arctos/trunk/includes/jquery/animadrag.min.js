/**
 * AnimaDrag
 * Animated jQuery Drag and Drop Plugin
 * Version 0.5.1 beta
 * Author Abel Mohler
 * Released with the MIT License: http://www.opensource.org/licenses/mit-license.php
 */
(function(a){a.fn.animaDrag=function(c,d){var b={speed:400,interval:300,easing:null,cursor:"move",boundary:document.body,grip:null,overlay:true,after:function(f){},during:function(f){},before:function(f){},afterEachAnimation:function(f){}};if(typeof d=="function"){b.after=d}c=a.extend(b,c||{});return this.each(function(){var e,k,j,i,h,p=false,o,q=this,m=(a(this).find(c.grip).length>0)?a(this).find(c.grip):a(this);if(c.boundary){var g=a(c.boundary).offset().top,n=a(c.boundary).offset().left,f=g+a(c.boundary).innerHeight(),l=n+a(c.boundary).innerWidth()}m.mousedown(function(t){c.before.call(q,t);var s,r;p=true;o=t;k=s=t.pageX;j=r=t.pageY;i=a(q).offset().left;h=a(q).offset().top;a(q).css({position:"absolute",left:i+"px",top:h+"px",cursor:c.cursor,zIndex:"1010"}).addClass("anima-drag").appendTo(document.body);if(c.overlay&&a("#anima-drag-overlay").length==0){a('<div id="anima-drag-overlay"></div>').css({position:"absolute",top:"0",left:"0",zIndex:"1000",width:a(document.body).outerWidth()+"px",height:a(document.body).outerHeight()+"px"}).appendTo(document.body)}else{if(c.overlay){a("#anima-drag-overlay").show()}}e=setInterval(function(){if(s!=o.pageX||r!=o.pageY){var v=i-(k-o.pageX),u=h-(j-o.pageY);if(v<n&&c.boundary){v=n}else{if(v+a(q).innerWidth()>l&&c.boundary){v=l-a(q).outerWidth()}}if(u<g&&c.boundary){u=g}else{if(u+a(q).innerHeight()>f&&c.boundary){u=f-a(q).outerHeight()}}a(q).stop().animate({left:v+"px",top:u+"px"},c.speed,c.easing,function(){c.afterEachAnimation.call(q,o)})}s=o.pageX;r=o.pageY},c.interval);(a.browser.safari||t.preventDefault())});a(document).mousemove(function(r){if(p){o=r;c.during.call(q,r)}});a(document).mouseup(function(r){if(p){a(q).css({cursor:"",zIndex:"990"}).removeClass("anima-drag");a("#anima-drag-overlay").hide().appendTo(document.body);clearInterval(e);c.after.call(q,r);p=false}})})}})(jQuery);